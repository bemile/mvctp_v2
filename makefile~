CC=g++
CFLAGS=-lpthread -lrt -D_FILE_OFFSET_BITS=64
VPATH=starter:CommUtil:MVCTP
OBJ=EmulabStarter.o ConfigInfo.o mvctp.o Tester.o MVCTPComm.o \
MVCTPSender.o MVCTPReceiver.o MulticastComm.o RawSocketComm.o InetComm.o \
UdpComm.o NetInterfaceManager.o \
ReceiverStatusProxy.o SenderStatusProxy.o StatusProxy.o ExperimentManager.o TcpServer.o TcpClient.o Timer.o CpuUsageCounter.o



all: emustarter

emustarter: $(OBJ)
	$(CC) -o $@ $(OBJ) $(CFLAGS)

EmulabStarter.o: ConfigInfo.o Tester.o

ConfigInfo.o: 

Tester.o: mvctp.o MulticastComm.o RawSocketComm.o InetComm.o MVCTPComm.o MVCTPSender.o MVCTPReceiver.o UdpComm.o ReceiverStatusProxy.o SenderStatusProxy.o StatusProxy.o NetInterfaceManager.o TcpServer.o TcpClient.o ExperimentManager.o Timer.o CpuUsageCounter.o

SenderStatusProxy.o : StatusProxy.o MVCTPSender.o MVCTPComm.o ExperimentManager.o

ReceiverStatusProxy.o : StatusProxy.o MVCTPReceiver.o MVCTPComm.o

MVCTPSender.o: mvctp.o MVCTPComm.o CpuUsageCounter.o

MVCTPReceiver.o: mvctp.o MVCTPComm.o

MVCTPComm.o: mvctp.o MulticastComm.o RawSocketComm.o NetInterfaceManager.o

TcpServer.o TcpClient.o:

MulticastComm.o RawSocketComm.o: mvctp.o InetComm.o 

InetComm.o : mvctp.o

UdpComm.o NetInterfaceManager.o: mvctp.o

mvctp.o : Timer.o

Timer.o CpuUsageCounter.o ExperimentManager.o:

StatusProxy.o : CommUtil.h



# Clean Action
clean:
	rm *.o


